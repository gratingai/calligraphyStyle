(function(){"use strict";var e={289:function(e,t,a){var n=a(5130),s=a(6768);function l(e,t,a,n,l,r){const o=(0,s.g2)("ImageUpload");return(0,s.uX)(),(0,s.Wv)(o)}var r=a(4232);const o={class:"app-container"},i={class:"header-content"},u={class:"header-right"},c={class:"card-header"},d={class:"upload-area"},g={key:1,class:"upload-text"},f={class:"card-header"},p={class:"result-content"},h={key:1,class:"result-text"},k={key:2,class:"empty-result"};function m(e,t,a,n,l,m){const v=(0,s.g2)("el-button"),b=(0,s.g2)("el-header"),y=(0,s.g2)("el-tag"),_=(0,s.g2)("Upload"),w=(0,s.g2)("el-icon"),F=(0,s.g2)("el-image"),L=(0,s.g2)("el-upload"),O=(0,s.g2)("el-card"),U=(0,s.g2)("el-col"),x=(0,s.g2)("el-skeleton"),W=(0,s.g2)("Picture"),C=(0,s.g2)("el-row"),j=(0,s.g2)("el-main"),X=(0,s.g2)("el-footer");return(0,s.uX)(),(0,s.CE)("div",o,[(0,s.bF)(b,{class:"app-header"},{default:(0,s.k6)((()=>[(0,s.Lk)("div",i,[t[2]||(t[2]=(0,s.Lk)("h1",null,"书法识别系统",-1)),(0,s.Lk)("div",u,[(0,s.bF)(v,{type:"text"},{default:(0,s.k6)((()=>t[0]||(t[0]=[(0,s.eW)("关于")]))),_:1}),(0,s.bF)(v,{type:"text"},{default:(0,s.k6)((()=>t[1]||(t[1]=[(0,s.eW)("帮助")]))),_:1})])])])),_:1}),(0,s.bF)(j,{class:"main-content"},{default:(0,s.k6)((()=>[(0,s.bF)(C,{gutter:20,class:"content-row"},{default:(0,s.k6)((()=>[(0,s.bF)(U,{xs:24,sm:24,md:12,lg:12,xl:12},{default:(0,s.k6)((()=>[(0,s.bF)(O,{class:"upload-card",shadow:"hover"},{header:(0,s.k6)((()=>[(0,s.Lk)("div",c,[t[4]||(t[4]=(0,s.Lk)("span",null,"上传图片",-1)),(0,s.bF)(y,{size:"small",type:"info"},{default:(0,s.k6)((()=>t[3]||(t[3]=[(0,s.eW)("支持jpg、png格式")]))),_:1})])])),default:(0,s.k6)((()=>[(0,s.Lk)("div",d,[(0,s.bF)(L,{action:e.YOUR_UPLOAD_URL,accept:"image/*",onChange:m.onFileChange,"show-file-list":!1,class:"upload-component",drag:""},{default:(0,s.k6)((()=>[(0,s.Lk)("div",{class:(0,r.C4)(["upload-trigger",{"has-image":l.imageUrl}])},[l.imageUrl?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.Wv)(w,{key:0},{default:(0,s.k6)((()=>[(0,s.bF)(_)])),_:1})),l.imageUrl?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.CE)("div",g,t[5]||(t[5]=[(0,s.Lk)("span",null,"点击或拖拽图片到此处",-1),(0,s.Lk)("span",{class:"upload-hint"},"支持单个图片上传",-1)]))),l.imageUrl?((0,s.uX)(),(0,s.Wv)(F,{key:2,src:l.imageUrl,fit:"contain",class:"preview-image"},null,8,["src"])):(0,s.Q3)("",!0)],2)])),_:1},8,["action","onChange"]),(0,s.bF)(v,{type:"primary",onClick:m.submitImage,class:"submit-button",loading:l.loading},{default:(0,s.k6)((()=>[(0,s.eW)((0,r.v_)(l.loading?"识别中...":"开始识别"),1)])),_:1},8,["onClick","loading"])])])),_:1})])),_:1}),(0,s.bF)(U,{xs:24,sm:24,md:12,lg:12,xl:12},{default:(0,s.k6)((()=>[(0,s.bF)(O,{class:"result-card",shadow:"hover"},{header:(0,s.k6)((()=>[(0,s.Lk)("div",f,[t[9]||(t[9]=(0,s.Lk)("span",null,"识别结果",-1)),l.result&&!l.loading?((0,s.uX)(),(0,s.Wv)(y,{key:0,size:"small",type:"success"},{default:(0,s.k6)((()=>t[6]||(t[6]=[(0,s.eW)("识别完成")]))),_:1})):(0,s.Q3)("",!0),l.loading?((0,s.uX)(),(0,s.Wv)(y,{key:1,size:"small",type:"warning"},{default:(0,s.k6)((()=>t[7]||(t[7]=[(0,s.eW)("处理中")]))),_:1})):(0,s.Q3)("",!0),l.result||l.loading?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.Wv)(y,{key:2,size:"small",type:"info"},{default:(0,s.k6)((()=>t[8]||(t[8]=[(0,s.eW)("等待上传")]))),_:1}))])])),default:(0,s.k6)((()=>[(0,s.Lk)("div",p,[l.loading?((0,s.uX)(),(0,s.Wv)(x,{key:0,rows:3,animated:""})):l.result?((0,s.uX)(),(0,s.CE)("div",h,(0,r.v_)(l.result),1)):((0,s.uX)(),(0,s.CE)("div",k,[(0,s.bF)(w,{class:"empty-icon"},{default:(0,s.k6)((()=>[(0,s.bF)(W)])),_:1}),t[10]||(t[10]=(0,s.Lk)("p",null,"请上传一张书法图片开始识别",-1)),t[11]||(t[11]=(0,s.Lk)("p",{class:"empty-hint"},"支持常见的图片格式，如 JPG、PNG 等",-1))]))])])),_:1})])),_:1})])),_:1})])),_:1}),(0,s.bF)(X,{class:"app-footer"},{default:(0,s.k6)((()=>t[12]||(t[12]=[(0,s.Lk)("p",null," 2025 书法识别系统 - All Rights Reserved",-1)]))),_:1})])}a(4603),a(7566),a(8721);var v=a(7477),b={components:{Upload:v._OO,Picture:v.VIg},data(){return{imageUrl:null,result:null,loading:!1,selectedFile:null}},methods:{onFileChange(e){e&&(this.selectedFile=e.raw,this.imageUrl=URL.createObjectURL(e.raw))},async submitImage(){if(!this.selectedFile)return void this.$message.warning("请先选择一张图片");this.loading=!0;const e=new FormData;e.append("image",this.selectedFile);try{console.log("Sending request to:","/api");const t=await fetch("/api",{method:"POST",body:e});if(console.log("Response status:",t.status),console.log("Response status text:",t.statusText),!t.ok)throw new Error(`HTTP error! status: ${t.status}`);this.result=await t.json(),console.log("Response data:",this.result),this.$message.success("识别成功！")}catch(t){console.error("Error details:",{message:t.message,error:t}),this.result="识别失败: "+t.message,this.$message.error("识别失败，请重试")}finally{this.loading=!1}}}},y=a(1241);const _=(0,y.A)(b,[["render",m],["__scopeId","data-v-34185a40"]]);var w=_,F={name:"App",components:{ImageUpload:w}};const L=(0,y.A)(F,[["render",l]]);var O=L,U=a(4435);a(4188);const x=(0,n.Ef)(O);x.use(U.A),x.mount("#app")}},t={};function a(n){var s=t[n];if(void 0!==s)return s.exports;var l=t[n]={exports:{}};return e[n].call(l.exports,l,l.exports,a),l.exports}a.m=e,function(){var e=[];a.O=function(t,n,s,l){if(!n){var r=1/0;for(c=0;c<e.length;c++){n=e[c][0],s=e[c][1],l=e[c][2];for(var o=!0,i=0;i<n.length;i++)(!1&l||r>=l)&&Object.keys(a.O).every((function(e){return a.O[e](n[i])}))?n.splice(i--,1):(o=!1,l<r&&(r=l));if(o){e.splice(c--,1);var u=s();void 0!==u&&(t=u)}}return t}l=l||0;for(var c=e.length;c>0&&e[c-1][2]>l;c--)e[c]=e[c-1];e[c]=[n,s,l]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={524:0};a.O.j=function(t){return 0===e[t]};var t=function(t,n){var s,l,r=n[0],o=n[1],i=n[2],u=0;if(r.some((function(t){return 0!==e[t]}))){for(s in o)a.o(o,s)&&(a.m[s]=o[s]);if(i)var c=i(a)}for(t&&t(n);u<r.length;u++)l=r[u],a.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return a.O(c)},n=self["webpackChunkshufa_vue_project"]=self["webpackChunkshufa_vue_project"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=a.O(void 0,[504],(function(){return a(289)}));n=a.O(n)})();
//# sourceMappingURL=app.3268e48e.js.map